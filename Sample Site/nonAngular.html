<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Sample Plain Javascript</title>
	<link href="./deps/xmp/css/xmp.css" rel="stylesheet" media="screen">
	<link href="./css/main.css" rel="stylesheet" media="screen">
	<script src="./xmpcfg.js" type="text/javascript"></script>
	<script src="./deps/jquery/jquery-1.10.2.min.js"></script>
	<script src="./deps/xmp/js/xmp.min.js"></script>
</head>
<body>
	<textarea id="txtArea" style="width:500px;height:500px"></textarea>


	<script>
		// with login (true as 2nd param in constructor, and can use res.recipientID as later recipient ID, and no need to pass service token)


		var xmplOnReady = function () {
      var res = new xmpResourceDriver({ configuration: xmpcfg }, true, true);

      res.ready(function () {
        var inOptions = {
          adors: ['firstName', 'lastName', 'Age'],
          resolved : ['Gender'],
          async: false
        }
        res.getRecipientADORs(res.recipientID, inOptions,
          function (data) {
            $('#txtArea').val(JSON.stringify(data))
          },
          function (error) {
            console.log('error', error);
          }
        );
      });
    }

	</script>
</body>
</html>